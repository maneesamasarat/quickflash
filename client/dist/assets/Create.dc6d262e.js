var D=Object.defineProperty,S=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var v=(i,s,t)=>s in i?D(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t,b=(i,s)=>{for(var t in s||(s={}))B.call(s,t)&&v(i,t,s[t]);if(m)for(var t of m(s))F.call(s,t)&&v(i,t,s[t]);return i},x=(i,s)=>S(i,T(s));import{o,j as d,f as e,u,t as n,h as a,m as R,r as h,d as L,w as p,g as w,q as N,F as A}from"./vendor.9a0731a0.js";import{B as P}from"./Base.ebed360e.js";import{D as V}from"./DynamicContent.17061b9b.js";import{_ as k,A as y}from"./index.5636f22e.js";const E={props:["index","card","moveTo","isActive","isLast"],data(){return{difficultySelected:!1}},methods:{flipCard(){this.card.state="flipped"},next(){if(this.$refs.difficulty.value=="none"){alert("Please select a difficulty level before proceeding.");return}this.card.state="closed",this.moveTo(this.index+1)}}},q={class:"card border-0 text-white d-flex"},z=e("p",{class:"card-text m-0 d-flex flex-column justify-content-center flex-grow-1"},[e("h1",null,"?")],-1),H=[z],I={class:"card-text m-0 d-flex flex-column justify-content-center flex-grow-1"},M=a(" multiplier"),G={class:"card-text"},J=e("i",{class:"bi bi-arrow-repeat"},null,-1),K=a(" Flip and check "),O=[J,K],Q={class:"card-text m-0 d-flex flex-column justify-content-center flex-grow-1"},U={class:"mt-2 text-center"},W=a(" How difficult did you find this card? "),X={class:"form-select m-2","aria-label":"Default select example",name:"difficulties[]",ref:"difficulty"},Y=e("option",{selected:"",value:"none"},"Select difficulty",-1),Z=e("option",{value:"0"},"Couldn't recall it (0 points)",-1),$={value:"1"},ee={value:"2"},te={value:"3"},se={value:"4"},ie=["value"],ne={key:0,class:"btn btn-outline-light submit mt-4",type:"submit"},ce=a("Submit "),oe=e("i",{class:"bi bi-check"},null,-1),ae=[ce,oe],le=a("Next "),de=e("i",{class:"bi bi-arrow-right"},null,-1),re=[le,de],ue={class:"card-text m-0 d-flex flex-column justify-content-center flex-grow-1"},_e=e("span",{class:"fs-5 mt-3"},[e("i",{class:"bi bi-check"}),a(" Completed")],-1);function he(i,s,t,g,r,c){return o(),d("div",q,[e("div",{class:u(["card-body unopened d-flex flex-column align-items-center justify-content-between p-4",{visible:t.card.state=="hidden"}])},H,2),e("div",{class:u(["card-body front d-flex flex-column align-items-center justify-content-center p-4",{visible:t.card.state=="shown"}])},[e("p",I,[e("h3",null,"#"+n(t.index+1),1),e("h3",null,n(t.card.front),1),e("p",null,[e("b",null,n(t.card.points)+"x",1),M])]),e("div",G,[e("button",{class:"btn btn-outline-light flip",type:"button",onClick:s[0]||(s[0]=(...l)=>c.flipCard&&c.flipCard(...l))},O)])],2),e("div",{class:u(["card-body back d-flex flex-column align-items-center justify-content-between p-4",{visible:t.card.state=="flipped"}])},[e("p",Q,[e("h5",null,n(t.card.front),1),e("h3",null,n(t.card.back),1),e("p",U,[W,e("select",X,[Y,Z,e("option",$,"Difficult ("+n(t.card.points*1)+" points)",1),e("option",ee,"Moderate ("+n(t.card.points*2)+" points)",1),e("option",te,"Easy ("+n(t.card.points*3)+" points)",1),e("option",se,"Piece of cake ("+n(t.card.points*4)+" points)",1)],512),e("input",{type:"hidden",name:"cards[]",value:t.card.id},null,8,ie)]),t.isLast?(o(),d("button",ne,ae)):(o(),d("button",{key:1,class:"btn btn-outline-light mt-4",type:"button",onClick:s[1]||(s[1]=(...l)=>c.next&&c.next(...l))},re))])],2),e("div",{class:u(["card-body finished d-flex flex-column align-items-center justify-content-between p-4",{visible:t.card.state=="closed"}])},[e("p",ue,[e("h5",null,n(t.card.front),1),e("h3",null,n(t.card.back),1),_e])],2)])}var fe=k(E,[["render",he]]);const me={components:{Base:P,DynamicContent:V,ReviewFlashcard:fe},computed:R(["title"]),data(){return{loaded:!1,deck:{},cards:[]}},created(){this.$store.commit("setTitle","Create review"),y.get(`decks/${this.$route.params.deck_id}`).then(i=>{this.loaded=!0,this.deck=i.deck,this.cards=i.cards.map((s,t)=>x(b({},s),{state:t==0?"shown":"hidden"})),this.cards,this.$store.commit("setTitle",`Review: ${this.deck.name}`)}).catch(()=>{})},methods:{moveTo(i){i<this.cards.length&&(this.cards[i].state="shown")},handleReviewSubmit(i){i.preventDefault(),y.post(`decks/${this.$route.params.deck_id}/reviews`,new FormData(i.target)).then(s=>{this.$router.replace({name:"decks.reviews.show",params:{deck_id:this.deck.id,review_id:s.review.id}})}).catch(()=>{})}}},ve={class:"mb-4"},be={class:"col-4 card-col pb-4"};function xe(i,s,t,g,r,c){const l=h("ReviewFlashcard"),C=h("DynamicContent"),j=h("Base");return o(),L(j,null,{default:p(()=>[e("h2",ve,n(i.title),1),w(C,{loaded:r.loaded},{default:p(()=>[e("form",{class:"row review",onSubmit:s[0]||(s[0]=(..._)=>c.handleReviewSubmit&&c.handleReviewSubmit(..._))},[(o(!0),d(A,null,N(r.cards,(_,f)=>(o(),d("div",be,[w(l,{index:f,card:_,isLast:f==r.cards.length-1,moveTo:c.moveTo},null,8,["index","card","isLast","moveTo"])]))),256))],32)]),_:1},8,["loaded"])]),_:1})}var Ce=k(me,[["render",xe]]);export{Ce as default};
