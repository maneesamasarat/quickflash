import{B as v}from"./Base.ebed360e.js";import{D as f,f as b}from"./date.8518464d.js";import{D}from"./DynamicContent.17061b9b.js";import{_ as y,A as g}from"./index.5636f22e.js";import{r as l,o as d,d as R,w as i,g as r,f as e,t,h as n,u as x,j as h,q as B,F as I}from"./vendor.9a0731a0.js";const N={components:{DeckIcon:f,Base:v,DynamicContent:D},methods:{fromNow:b,handleReviewDelete(){this.$store.dispatch("deleteReview",{deckId:this.deck.id,reviewId:this.review.id})}},data(){return{loaded:!1,deck:{},review:{},reviewCards:[]}},created(){this.$store.commit("setTitle","Review report"),g.get(`decks/${this.$route.params.deck_id}/reviews/${this.$route.params.review_id}`).then(c=>{this.loaded=!0,this.deck=c.deck,this.review=c.review,this.reviewCards=c.review_cards,this.$store.commit("setTitle",`${this.deck.name} - Review #${this.review.id}`)}).catch(()=>{})}},C=e("i",{class:"bi bi-arrow-left m-2"},null,-1),S=n(" Return to "),F=n(" reviews "),T=n(" Retry review "),V=e("i",{class:"bi bi-arrow-right m-2"},null,-1),A={class:"my-4 d-flex align-items-center"},E=e("i",{class:"bi bi-trash me-1"},null,-1),P=n(" Delete "),Y=[E,P],j=n(" You took this review "),q=n(" and you scored "),z={class:"table-responsive"},H={class:"table table-striped"},L=e("thead",null,[e("tr",null,[e("th",null,"Serial No."),e("th",null,"Front"),e("th",null,"Back"),e("th",null,"Difficulty"),e("th",null,"Score"),e("th",null,"Remarks")])],-1),M={class:"ms-2"};function W(c,_,G,J,s,a){const u=l("router-link"),m=l("DeckIcon"),p=l("DynamicContent"),w=l("Base");return d(),R(w,null,{default:i(()=>[r(p,{loaded:s.loaded},{default:i(()=>[e("h2",null,[r(u,{to:{name:"decks.reviews.index",params:{deck_id:s.deck.id}},class:"btn btn-outline-secondary btn-sm me-1"},{default:i(()=>[C,S,e("b",null,t(s.deck.name),1),F]),_:1},8,["to"]),r(u,{to:{name:"decks.reviews.create",params:{deck_id:s.deck.id}},class:"btn btn-outline-secondary btn-sm me-1"},{default:i(()=>[T,V]),_:1},8,["to"])]),e("h2",A,[n(t(s.deck.name)+" - Review #"+t(s.review.id)+" ",1),r(m,{score:s.review.score_percent},null,8,["score"]),e("button",{onClick:_[0]||(_[0]=(...o)=>a.handleReviewDelete&&a.handleReviewDelete(...o)),class:"btn btn-outline-danger btn-sm ms-3"},Y)]),e("div",{class:x(["alert mb-4",s.review.score_percent>=50?"alert-success":"alert-danger"])},[j,e("b",null,t(a.fromNow(s.review.taken_at))+" ago",1),q,e("b",null,t(s.review.score)+"/"+t(s.review.max_score)+" ("+t(s.review.score_percent)+"%). ",1),n(" Hence, you "+t(s.review.score_percent>=50?"passed":"failed")+" the review. ",1)],2),e("div",z,[e("table",H,[L,e("tbody",null,[(d(!0),h(I,null,B(s.reviewCards,(o,k)=>(d(),h("tr",null,[e("td",null,t(k+1),1),e("td",null,t(o.card.front),1),e("td",null,t(o.card.back),1),e("td",null,t(["Couldn't recall","Difficult","Moderate","Easy","Piece of cake"][o.difficulty]),1),e("td",null,t(o.score)+"/"+t(o.card.max_score)+" ("+t(o.score_percent)+"%) ",1),e("td",null,[r(m,{score:o.score_percent},null,8,["score"]),e("span",M,t(o.score_percent>=50?"You're good to go!":"Work harder on this card."),1)])]))),256))])])])]),_:1},8,["loaded"])]),_:1})}var Z=y(N,[["render",W]]);export{Z as default};
